<!DOCTYPE html>
<html>

    <script>
        // var server_addr="http://52.90.135.27:8080"
        var server_addr="http://52.14.8.160"
        // var server_addr = "http://127.0.0.1:5000"
        var route="/api/v1/categories"
        function addcat() {
            var data_file = server_addr+route;
            //alert(data_file);
            var http_request = new XMLHttpRequest();
            //var params="username="+document.getElementById("username").value+"&actid="+document.getElementById("actId").value+"&category="+document.getElementById("category").value+"&timestamp="+document.getElementById("timestamp").value+"&caption="+document.getElementById("caption").value+"&imgB64="+document.getElementById("imgB64").value ;
            var category = document.getElementById("category").value;
            var params =JSON.stringify([category]);

             //alert(params);
            http_request.onreadystatechange = function() {//Call a function when the state changes.
                if(http_request.readyState == 4) {
                    var jsonObj = JSON.parse(http_request.responseText);
                    document.getElementById("status").innerHTML=jsonObj.status;
                    //alert(jsonObj.status);
                    document.getElementById("category").value = '';
                }
            }
            http_request.open('POST', data_file, true);
            http_request.send(params);
        }

        function deletecat() {
            // var server_addr="http://52.14.8.160"
            var route="/api/v1/categories/"
            var cat_name  = document.getElementById("category").value;
            var data_file = server_addr+route+cat_name;
            var http_request = new XMLHttpRequest();
            //var params="username="+document.getElementById("username").value+"&actid="+document.getElementById("actId").value+"&category="+document.getElementById("category").value+"&timestamp="+document.getElementById("timestamp").value+"&caption="+document.getElementById("caption").value+"&imgB64="+document.getElementById("imgB64").value ;
            var category= document.getElementById("category").value;
            http_request.onreadystatechange = function() {//Call a function when the state changes.
                if(http_request.readyState == 4) {
                    var jsonObj = JSON.parse(http_request.responseText);
                    document.getElementById("status").innerHTML=jsonObj.status;
                    //alert(jsonObj.status);
                    document.getElementById("category").value = '';
                }
            }
            http_request.open('DELETE', data_file, true);
            http_request.send();
        }
    </script>
    
  <head>

    <title>CodeLearn</title>
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <script type="text/javascript" src="index.js"></script>
  </head>

  <body>

    <div class="topnav">
      <a class="active" href="#home">Home</a>
      <a href="#languages">Languages</a>
      <a href="#about">About</a>
      <a href="#contact">Contact Us</a>
      <a href="login.html" id="logout" >Log Out</a>
    </div>

    <div class="intro">
      <h1 class="logo"> CodeLearn </h1>
      <!-- <p>Select a language  from below and make corrections to the displayed code.</p> -->
    </div>
    <!-- <hr> -->
    <div class="body">

        <div class="split left">

          <form>
              <h2>Select Language:</h2>
              <label class="container">Python
                <input type="radio" checked="checked" name="radio">
                <span class="checkmark"></span>
              </label>
              <label class="container">C
                <input type="radio" name="radio">
                <span class="checkmark"></span>
              </label>
              <!-- <label class="container">C++
                <input type="radio" name="radio">
                <span class="checkmark"></span>
              </label> -->

              <h2>Category: </h2>
              <select class = "category">
                  <option>functions</option>
                  <option>if else</option>
                  <option>for loop</option>
              </select>

              <button class="generate_code" onclick="fetch_code()">FETCH CODE</button>

          </form>

        </div>

        <div class="split right">

            <h2>Code Segment: </h2>
            <textarea id="codesegment" wrap=on rows="14" cols="140" >
#function to find sum of 2 numbers

def foo(a,b)
  return a+b

a=20
b=10
sum = foo(a,b)
print(sum)



            </textarea>
            <input type="submit" class="submit" value="SUBMIT" ></input>

        </div>

        <div class="split right-most">
          <h2>Score: </h2>
            <h1 id="score">10</h1>
        </div>

    </div>

  </body>
</html>
